<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W4RAS STORE | Premium Gaming</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #05060b; --card: #0f111a; --glass: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08); --purple: #7c3aed;
            --purple-glow: rgba(124, 58, 237, 0.5); --text: #ffffff; --muted: #94a3b8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; scroll-behavior: smooth; }
        body { background: var(--bg); color: var(--text); overflow-x: hidden; }

        /* --- RUNNING TEXT --- */
        .top-bar { background: rgba(124, 58, 237, 0.1); border-bottom: 1px solid var(--glass-border); padding: 12px 0; overflow: hidden; backdrop-filter: blur(10px); }
        .marquee { display: flex; white-space: nowrap; animation: marquee 30s linear infinite; }
        .marquee span { padding: 0 40px; font-size: 0.8rem; font-weight: 800; color: var(--purple); letter-spacing: 2px; }
        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

        /* --- HEADER --- */
        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px 8%; background: rgba(5, 6, 11, 0.8);
            backdrop-filter: blur(20px); position: sticky; top: 0; z-index: 100; border-bottom: 1px solid var(--glass-border);
        }
        .logo { font-size: 1.6rem; font-weight: 800; }
        .logo span { color: var(--purple); text-shadow: 0 0 15px var(--purple-glow); }
        .admin-btn { background: var(--glass); color: white; padding: 10px 22px; border-radius: 12px; font-weight: 700; cursor: pointer; border: 1px solid var(--glass-border); transition: 0.3s; }
        .admin-btn:hover { background: var(--purple); box-shadow: 0 0 15px var(--purple-glow); }

        /* --- HERO --- */
        .hero { text-align: center; padding: 60px 5% 40px; }
        .hero h1 { font-size: 4rem; font-weight: 800; letter-spacing: -2px; margin-bottom: 15px; }
        .gradient-text { background: linear-gradient(to right, #fff, var(--purple)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* --- PRODUCT GRID --- */
        .product-section { padding: 40px 8%; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; }
        .p-card { background: var(--card); border-radius: 24px; padding: 20px; border: 1px solid var(--glass-border); transition: 0.4s; position: relative; }
        .p-card:hover { transform: translateY(-10px); border-color: var(--purple); box-shadow: 0 20px 40px rgba(0,0,0,0.5); }
        .p-img { width: 100%; aspect-ratio: 1/1; object-fit: cover; border-radius: 18px; margin-bottom: 15px; border: 1px solid var(--glass-border); }
        .p-price { font-size: 1.6rem; font-weight: 800; color: var(--purple); margin: 10px 0; }
        .buy-btn { width: 100%; background: var(--purple); color: white; border: none; padding: 14px; border-radius: 14px; font-weight: 700; cursor: pointer; transition: 0.3s; }
        .buy-btn:disabled { background: #222; cursor: not-allowed; color: #555; }

        /* --- MODAL CHECKOUT --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 1000; padding: 20px; }
        .modal-content { background: #0f111a; width: 100%; max-width: 450px; border-radius: 30px; padding: 35px; border: 1px solid var(--glass-border); }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; margin-bottom: 8px; font-size: 0.8rem; color: var(--muted); }
        .input-group input { width: 100%; background: #05060b; border: 1px solid #222; color: white; padding: 12px; border-radius: 10px; }
        
        .qty-box { display: flex; align-items: center; gap: 15px; background: #05060b; padding: 10px; border-radius: 12px; width: fit-content; border: 1px solid #222; }
        .btn-qty { background: var(--purple); border: none; color: white; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; font-weight: 800; }

        /* --- ADMIN PANEL --- */
        #adminPanel { display: none; background: #0a0c14; margin: 20px 8%; padding: 40px; border-radius: 30px; border: 2px dashed var(--purple); }
        .admin-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 30px; font-size: 0.9rem; }
        th, td { padding: 15px; text-align: left; border-bottom: 1px solid #222; }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="marquee" id="mqBox">
            <span id="mq1">WELCOME TO W4RAS STORE ‚Ä¢ BEST QUALITY ACCOUNTS ‚Ä¢ INSTANT DELIVERY ‚Ä¢ </span>
            <span id="mq2">WELCOME TO W4RAS STORE ‚Ä¢ BEST QUALITY ACCOUNTS ‚Ä¢ INSTANT DELIVERY ‚Ä¢ </span>
        </div>
    </div>

    <header>
        <div class="logo">W4RAS <span>STORE</span></div>
        <button class="admin-btn" onclick="openAdmin()">Admin Panel</button>
    </header>

    <section class="hero">
        <h1>Premium <span class="gradient-text">Gaming Store.</span></h1>
        <p style="color: var(--muted);">Pusat akun gaming termurah dan terpercaya.</p>
    </section>

    <div class="product-section">
        <div class="product-grid" id="productGrid"></div>
    </div>

    <div class="modal-overlay" id="checkoutModal">
        <div class="modal-content">
            <h2 style="margin-bottom: 25px;">üõí Form Pembelian</h2>
            <div class="input-group">
                <label>Nama Produk</label>
                <input type="text" id="mName" readonly>
            </div>
            <div class="input-group">
                <label>Email Penerima (Akun dikirim ke sini)</label>
                <input type="email" id="mEmail" placeholder="nama@email.com">
            </div>
            <div class="input-group">
                <label>Jumlah Beli</label>
                <div class="qty-box">
                    <button class="btn-qty" onclick="changeQty(-1)">-</button>
                    <b id="mQty">1</b>
                    <button class="btn-qty" onclick="changeQty(1)">+</button>
                </div>
            </div>
            <div style="background: rgba(124,58,237,0.1); padding: 20px; border-radius: 15px; margin: 20px 0; border: 1px solid var(--purple);">
                <p style="font-size: 0.8rem; color: var(--muted);">Total Pembayaran:</p>
                <h2 id="mTotal" style="color: var(--purple);">Rp0</h2>
            </div>
            <button class="buy-btn" onclick="processPayment()">Bayar Sekarang (QRIS)</button>
            <button class="buy-btn" style="background:transparent; margin-top:10px;" onclick="closeModal()">Batal</button>
        </div>
    </div>

    <div id="adminPanel">
        <h2 style="margin-bottom: 20px;">üõ†Ô∏è Owner Dashboard</h2>
        <div class="admin-grid">
            <div style="background: var(--card); padding: 20px; border-radius: 20px;">
                <h3>Tambah Produk</h3>
                <input type="text" id="admName" placeholder="Nama Produk">
                <input type="number" id="admPrice" placeholder="Harga (Contoh: 5000)">
                <input type="number" id="admStock" placeholder="Stok">
                <input type="text" id="admImg" placeholder="Link Gambar (URL)">
                <button class="buy-btn" onclick="addItem()" style="margin-top: 10px;">Simpan Produk</button>
            </div>
            <div style="background: var(--card); padding: 20px; border-radius: 20px;">
                <h3>Update Pengumuman</h3>
                <input type="text" id="admMarquee" placeholder="Teks jalan baru...">
                <button class="buy-btn" onclick="updateMarquee()" style="margin-top: 10px;">Ganti Teks</button>
            </div>
        </div>
        <table>
            <thead><tr><th>Produk</th><th>Harga</th><th>Stok</th><th>Aksi</th></tr></thead>
            <tbody id="adminTable"></tbody>
        </table>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('w4ras_final')) || [
            {id: 1, name: 'STEAM FRESH ACCOUNT', price: 2500, stock: 50, img: 'https://images.unsplash.com/photo-1614680376593-902f74cf0d41?w=400&q=80'},
            {id: 2, name: 'ROCKSTAR PRIVATE', price: 15000, stock: 10, img: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400&q=80'}
        ];

        let currentId = null, currentPrice = 0, currentQty = 1;

        function render() {
            const grid = document.getElementById('productGrid');
            const table = document.getElementById('adminTable');
            const marquee = localStorage.getItem('w4ras_msg') || "WELCOME TO W4RAS STORE ‚Ä¢ BEST QUALITY ‚Ä¢ INSTANT DELIVERY ‚Ä¢ ";
            
            document.getElementById('mq1').innerText = marquee;
            document.getElementById('mq2').innerText = marquee;

            grid.innerHTML = ''; table.innerHTML = '';

            db.forEach(item => {
                grid.innerHTML += `
                    <div class="p-card">
                        <img src="${item.img}" class="p-img">
                        <h3 style="font-size:1.1rem">${item.name}</h3>
                        <div class="p-price">Rp${item.price.toLocaleString()}</div>
                        <p style="font-size:0.8rem; color:var(--muted); margin-bottom:15px;">Stok: ${item.stock}</p>
                        <button class="buy-btn" ${item.stock <= 0 ? 'disabled' : ''} onclick="openOrder(${item.id})">
                            ${item.stock <= 0 ? 'Stok Habis' : 'üõí Buy Now'}
                        </button>
                    </div>`;
                
                table.innerHTML += `
                    <tr>
                        <td>${item.name}</td>
                        <td>Rp${item.price}</td>
                        <td>${item.stock}</td>
                        <td><button onclick="delItem(${item.id})" style="color:#f43f5e; background:none; border:none; cursor:pointer; font-weight:700;">Hapus</button></td>
                    </tr>`;
            });
        }

        // --- ORDER FUNCTIONS ---
        function openOrder(id) {
            const item = db.find(x => x.id === id);
            currentId = id; currentPrice = item.price; currentQty = 1;
            document.getElementById('mName').value = item.name;
            document.getElementById('mQty').innerText = currentQty;
            updateTotal();
            document.getElementById('checkoutModal').style.display = 'flex';
        }

        function changeQty(n) {
            const item = db.find(x => x.id === currentId);
            if(currentQty + n > item.stock) return alert("Stok tidak mencukupi!");
            currentQty += n; if(currentQty < 1) currentQty = 1;
            document.getElementById('mQty').innerText = currentQty;
            updateTotal();
        }

        function updateTotal() {
            document.getElementById('mTotal').innerText = "Rp" + (currentPrice * currentQty).toLocaleString();
        }

        function processPayment() {
            const email = document.getElementById('mEmail').value;
            if(!email) return alert("Email harus diisi!");
            
            const item = db.find(x => x.id === currentId);
            item.stock -= currentQty;
            save();
            alert("Berhasil! Silakan selesaikan pembayaran QRIS. Detail dikirim ke " + email);
            closeModal();
        }

        // --- ADMIN FUNCTIONS ---
        function openAdmin() {
            if(prompt("Password Admin:") === "admin123") {
                document.getElementById('adminPanel').style.display = 'block';
                window.scrollTo(0, document.body.scrollHeight);
            }
        }

        function addItem() {
            const n = document.getElementById('admName').value;
            const p = document.getElementById('admPrice').value;
            const s = document.getElementById('admStock').value;
            const i = document.getElementById('admImg').value || 'https://via.placeholder.com/400/0f111a/7c3aed?text=Game';
            if(!n || !p) return alert("Data harus lengkap!");
            db.push({ id: Date.now(), name: n, price: parseInt(p), stock: parseInt(s), img: i });
            save(); alert("Produk Ditambahkan!");
        }

        function delItem(id) {
            if(confirm("Hapus produk?")) { db = db.filter(x => x.id !== id); save(); }
        }

        function updateMarquee() {
            const txt = document.getElementById('admMarquee').value;
            if(txt) { localStorage.setItem('w4ras_msg', txt + " ‚Ä¢ "); render(); }
        }

        function save() {
            localStorage.setItem('w4ras_final', JSON.stringify(db));
            render();
        }

        function closeModal() { document.getElementById('checkoutModal').style.display = 'none'; }

        render();
    </script>
</body>
</html>
