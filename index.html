<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W4RAS STORE | Premium Gaming</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #05060b; --card: #0f111a; --glass: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08); --purple: #7c3aed;
            --purple-glow: rgba(124, 58, 237, 0.5); --text: #ffffff; --muted: #94a3b8;
            --success: #10b981;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }
        body { background: var(--bg); color: var(--text); overflow-x: hidden; }

        /* --- MARQUEE --- */
        .top-bar { background: rgba(124, 58, 237, 0.1); border-bottom: 1px solid var(--glass-border); padding: 12px 0; overflow: hidden; }
        .marquee { display: flex; white-space: nowrap; animation: move 30s linear infinite; }
        .marquee span { padding: 0 50px; font-size: 0.8rem; font-weight: 800; color: var(--purple); letter-spacing: 1px; }
        @keyframes move { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

        /* --- HEADER --- */
        header { display: flex; justify-content: space-between; align-items: center; padding: 20px 8%; background: rgba(5,6,11,0.8); backdrop-filter: blur(20px); position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid var(--glass-border); }
        .logo { font-size: 1.5rem; font-weight: 800; color: white; text-decoration: none; }
        .logo span { color: var(--purple); text-shadow: 0 0 15px var(--purple-glow); }
        .admin-btn { background: var(--glass); border: 1px solid var(--glass-border); color: white; padding: 10px 20px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: 0.3s; }
        .admin-btn:hover { background: var(--purple); box-shadow: 0 0 20px var(--purple-glow); }

        /* --- EPIC HERO GALAXY --- */
        .hero-container { padding: 80px 8% 40px; display: flex; justify-content: center; background: radial-gradient(circle at top, rgba(124, 58, 237, 0.1) 0%, transparent 70%); }
        .hero-glass { 
            background: rgba(15, 17, 26, 0.6); backdrop-filter: blur(20px); border: 2px solid var(--purple);
            border-radius: 40px; padding: 60px; width: 100%; max-width: 900px; text-align: center;
            box-shadow: 0 0 50px rgba(124, 58, 237, 0.15);
        }
        .hero-glass h1 { font-size: 4rem; font-weight: 900; margin: 15px 0; letter-spacing: -2px; }
        .stats-row { display: flex; justify-content: center; gap: 50px; margin-top: 30px; }
        .stat-box b { display: block; font-size: 2.5rem; color: var(--purple); }
        .stat-box span { font-size: 0.8rem; color: var(--muted); text-transform: uppercase; font-weight: 700; }

        /* --- CATEGORY & GRID --- */
        .nav-cat { display: flex; justify-content: center; gap: 12px; margin: 40px 0; padding: 0 8%; flex-wrap: wrap; }
        .btn-cat { padding: 12px 24px; border-radius: 50px; background: var(--card); border: 1px solid var(--glass-border); color: white; cursor: pointer; transition: 0.3s; font-weight: 600; }
        .btn-cat.active { background: var(--purple); border-color: var(--purple); box-shadow: 0 0 15px var(--purple-glow); }

        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; padding: 0 8% 80px; }
        .p-card { background: var(--card); border-radius: 28px; padding: 20px; border: 1px solid var(--glass-border); transition: 0.4s; }
        .p-card:hover { transform: translateY(-10px); border-color: var(--purple); }
        .p-img { width: 100%; aspect-ratio: 1/1; border-radius: 20px; object-fit: cover; margin-bottom: 15px; background: #000; }
        .p-badge { background: rgba(16, 185, 129, 0.1); color: var(--success); padding: 4px 10px; border-radius: 6px; font-size: 0.7rem; font-weight: 800; }
        .p-price { font-size: 1.6rem; font-weight: 800; color: var(--purple); margin: 12px 0; }
        .buy-btn { width: 100%; background: #1a1d29; border: 1px solid var(--glass-border); color: white; padding: 14px; border-radius: 14px; font-weight: 700; cursor: pointer; transition: 0.3s; }
        .p-card:hover .buy-btn { background: var(--purple); }

        /* --- MODALS --- */
        .modal { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); display:none; align-items:center; justify-content:center; z-index:2000; padding:20px; }
        .modal-content { background:var(--card); width:100%; max-width:400px; padding:30px; border-radius:24px; border:1px solid var(--glass-border); }
        input, select { width:100%; padding:12px; background:#05060b; border:1px solid #222; color:white; border-radius:10px; margin-top:8px; margin-bottom:15px; }

        /* --- ADMIN PANEL --- */
        #adminArea { display:none; padding:40px 8%; background:#0a0c14; border-top:2px solid var(--purple); }
        .adm-card { background:var(--card); padding:25px; border-radius:20px; border:1px solid var(--glass-border); margin-bottom:20px; }

        /* --- CS FLOATING --- */
        .cs-info { position: fixed; bottom: 20px; left: 20px; z-index: 999; background: var(--purple); padding: 10px 20px; border-radius: 50px; font-size: 0.8rem; font-weight: 700; box-shadow: 0 0 20px var(--purple-glow); display: flex; align-items: center; gap: 10px; }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="marquee"><span id="mq1">WELCOME TO W4RAS STORE â€¢ PREMIUM QUALITY â€¢ INSTANT DELIVERY â€¢ </span><span id="mq2">WELCOME TO W4RAS STORE â€¢ PREMIUM QUALITY â€¢ INSTANT DELIVERY â€¢ </span></div>
    </div>

    <header>
        <a href="#" class="logo">W4RAS <span>STORE</span></a>
        <button class="admin-btn" onclick="openAdmin()">Admin Mode</button>
    </header>

    <section class="hero-container">
        <div class="hero-glass">
            <p>Ready to upgrade your game?</p>
            <h1>Premium <span style="color:var(--purple)">Gaming Hub.</span></h1>
            <div class="stats-row">
                <div class="stat-box"><b>1,139</b><span>Sold</span></div>
                <div class="stat-box"><b id="countP">0</b><span>Products</span></div>
                <div class="stat-box"><b>24/7</b><span>Support</span></div>
            </div>
        </div>
    </section>

    <div class="nav-cat" id="navCat">
        <button class="btn-cat active" onclick="setFilter('All')">All</button>
    </div>

    <div class="product-grid" id="productGrid"></div>

    <div class="modal" id="orderModal">
        <div class="modal-content">
            <h2 id="orderTitle" style="margin-bottom:15px;">Checkout</h2>
            <label style="font-size:0.8rem; color:var(--muted)">Email Penerima:</label>
            <input type="email" id="userEmail" placeholder="nama@email.com">
            <div style="background:rgba(124,58,237,0.1); padding:20px; border-radius:15px; margin-bottom:15px; text-align:center;">
                <p style="font-size:0.8rem; color:var(--muted)">Total Pembayaran:</p>
                <h2 id="orderPrice" style="color:var(--purple)">Rp0</h2>
            </div>
            <button class="buy-btn" style="background:var(--purple)" onclick="toQRIS()">Bayar Sekarang (QRIS)</button>
            <button class="buy-btn" style="background:transparent; border:none; margin-top:5px;" onclick="closeM()">Batal</button>
        </div>
    </div>

    <div class="modal" id="qrisModal">
        <div class="modal-content" style="text-align:center">
            <h3 style="margin-bottom:15px;">Scan QRIS</h3>
            <div style="background:white; padding:10px; border-radius:15px; display:inline-block; margin-bottom:15px;">
                <img id="qrisImg" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=W4RAS_STORE" width="200">
            </div>
            <p style="font-size:0.8rem; color:var(--muted)">Silakan selesaikan pembayaran sesuai nominal.</p>
            <button class="buy-btn" style="margin-top:20px; background:var(--success)" onclick="toNota()">Konfirmasi Sudah Bayar</button>
        </div>
    </div>

    <div class="modal" id="notaModal">
        <div class="modal-content">
            <h2 style="color:var(--success); text-align:center;">âœ“ PEMBAYARAN BERHASIL</h2>
            <div id="notaDetail" style="margin:20px 0; font-size:0.9rem; line-height:1.8; border-top:1px dashed #333; padding-top:15px;"></div>
            <div style="background:rgba(16,185,129,0.1); padding:15px; border-radius:12px; border:1px solid var(--success); font-size:0.8rem; text-align:center;">
                <b>PENTING:</b> Silakan hubungi admin di Tawk.to (Kiri Bawah) untuk pengiriman akun!
            </div>
            <button class="buy-btn" style="margin-top:20px" onclick="location.reload()">Selesai</button>
        </div>
    </div>

    <div id="adminArea">
        <h2 style="margin-bottom:30px;">ðŸ›  Dashboard Owner</h2>
        <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:20px;">
            <div class="adm-card">
                <h3>Tambah Produk Baru</h3>
                <input type="text" id="addName" placeholder="Nama Produk">
                <input type="number" id="addPrice" placeholder="Harga (Angka)">
                <input type="number" id="addStock" placeholder="Jumlah Stok">
                <select id="addCatSel"></select>
                <input type="text" id="addImg" placeholder="URL Link Gambar (Opsional)">
                <button class="admin-btn" style="width:100%" onclick="saveProduct()">Simpan Produk</button>
            </div>
            <div class="adm-card">
                <h3>Kelola Kategori</h3>
                <input type="text" id="newCatInput" placeholder="Nama Kategori Baru">
                <button class="admin-btn" style="width:100%" onclick="saveCat()">Tambah Kategori</button>
            </div>
        </div>
        <div class="adm-card" style="margin-top:20px;">
            <h3>List Produk & Hapus</h3>
            <div id="admProdList"></div>
        </div>
    </div>

    <div class="cs-info">
        <span>ðŸŽ§ Need Help? Chat Admin (Tawk.to)</span>
    </div>

    <script>
        // DATA PERSISTENCE
        let products = JSON.parse(localStorage.getItem('w4_products')) || [];
        let categories = JSON.parse(localStorage.getItem('w4_categories')) || ['Steam', 'Rockstar', 'Cloud Phone'];
        let filter = 'All';
        let selectedProduct = null;

        function render() {
            const grid = document.getElementById('productGrid');
            const nav = document.getElementById('navCat');
            const selCat = document.getElementById('addCatSel');
            const admList = document.getElementById('admProdList');
            
            // Render Nav
            nav.innerHTML = `<button class="btn-cat ${filter==='All'?'active':''}" onclick="setFilter('All')">All Products</button>`;
            selCat.innerHTML = '';
            categories.forEach(c => {
                nav.innerHTML += `<button class="btn-cat ${filter===c?'active':''}" onclick="setFilter('${c}')">${c}</button>`;
                selCat.innerHTML += `<option value="${c}">${c}</option>`;
            });

            // Render Products
            grid.innerHTML = ''; admList.innerHTML = '';
            const filtered = filter === 'All' ? products : products.filter(p => p.category === filter);
            document.getElementById('countP').innerText = products.length;

            filtered.forEach(p => {
                grid.innerHTML += `
                <div class="p-card">
                    <span class="p-badge">IN STOCK</span>
                    <img src="${p.img || 'https://via.placeholder.com/300/0f111a/7c3aed?text=No+Image'}" class="p-img">
                    <h3>${p.name}</h3>
                    <p style="color:var(--muted); font-size:0.7rem; margin-top:5px;">${p.category} â€¢ Stok: ${p.stock}</p>
                    <div class="p-price">Rp${p.price.toLocaleString()}</div>
                    <button class="buy-btn" onclick="openCheckout(${p.id})">ðŸ›’ Buy Now</button>
                </div>`;
                
                admList.innerHTML += `<div style="padding:10px; border-bottom:1px solid #222">${p.name} (${p.category}) - Rp${p.price} <button onclick="deleteProd(${p.id})" style="color:#f43f5e; float:right; background:none; border:none; cursor:pointer;">Hapus</button></div>`;
            });
        }

        // --- CORE FUNCTIONS ---
        function setFilter(c) { filter = c; render(); }

        function openCheckout(id) {
            selectedProduct = products.find(p => p.id === id);
            document.getElementById('orderTitle').innerText = selectedProduct.name;
            document.getElementById('orderPrice').innerText = "Rp" + selectedProduct.price.toLocaleString();
            document.getElementById('orderModal').style.display = 'flex';
        }

        function toQRIS() {
            if(!document.getElementById('userEmail').value) return alert("Email harus diisi!");
            document.getElementById('orderModal').style.display = 'none';
            document.getElementById('qrisModal').style.display = 'flex';
        }

        function toNota() {
            // POTONG STOK
            selectedProduct.stock -= 1;
            saveDB();
            
            document.getElementById('qrisModal').style.display = 'none';
            document.getElementById('notaDetail').innerHTML = `
                <b>Item:</b> ${selectedProduct.name}<br>
                <b>Email:</b> ${document.getElementById('userEmail').value}<br>
                <b>Total:</b> Rp${selectedProduct.price.toLocaleString()}<br>
                <b>Order ID:</b> ORD-${Math.floor(Math.random()*999999)}
            `;
            document.getElementById('notaModal').style.display = 'flex';
        }

        // --- ADMIN FUNCTIONS ---
        function openAdmin() { if(prompt("Password Owner:") === "wira123") document.getElementById('adminArea').style.display='block'; }

        function saveProduct() {
            const n = document.getElementById('addName').value;
            const p = document.getElementById('addPrice').value;
            const s = document.getElementById('addStock').value;
            const c = document.getElementById('addCatSel').value;
            const i = document.getElementById('addImg').value;
            if(!n || !p) return alert("Nama & Harga wajib!");
            
            products.push({ id: Date.now(), name: n, price: parseInt(p), stock: parseInt(s), category: c, img: i });
            saveDB(); alert("Produk Disimpan!");
        }

        function saveCat() {
            const val = document.getElementById('newCatInput').value;
            if(val) { categories.push(val); localStorage.setItem('w4_categories', JSON.stringify(categories)); render(); }
        }

        function deleteProd(id) { if(confirm("Hapus?")) { products = products.filter(p => p.id !== id); saveDB(); } }
        function saveDB() { localStorage.setItem('w4_products', JSON.stringify(products)); render(); }
        function closeM() { document.getElementById('orderModal').style.display = 'none'; }

        render();
    </script>

    </body>
</html>
